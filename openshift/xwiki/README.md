# Сборка XWiki для OpenShift

## Введение

XWiki — это мощная платформа для ведения вики-страниц, которая поддерживает расширяемость и интеграцию с различными приложениями. В этой инструкции описывается процесс настройки XWiki на платформе OpenShift, используя YAML-конфигурационные файлы для управления ресурсами и доступом.

## Шаги для запуска XWiki на OpenShift

### 1. Создание Namespace

Для изоляции ресурсов XWiki в OpenShift необходимо создать новый namespace. Выполните следующую команду:

```bash
oc create namespace wiki
```

### 2. Настройка ServiceAccount

Для предоставления доступа пользователям к проекту XWiki потребуется настроить ServiceAccount. Откройте файл serviceaccount.yaml и добавьте информацию о пользователе:


```  name: {USERNAME}```

### 3. Изменение PersistentVolumeClaim

```storageClassName: localstorage```

## Описание файлов конфигурации

- **`deployment.yaml`**: Основной файл конфигурации для развертывания XWiki. Содержит параметры для настройки реплик, контейнеров и ресурсов.

- **`postgresql.yaml`**: Конфигурация для базы данных PostgreSQL, используемой в качестве хранилища данных для XWiki. Включает параметры настройки базы данных и связанного с ней PersistentVolumeClaim.

- **`limitrange.yaml`** (опционально): Определяет лимиты ресурсов (CPU, память) для контейнеров в проекте. Помогает избежать чрезмерного использования ресурсов.

- **`quota.yaml`** (опционально): Устанавливает квоты на ресурсы для namespace, такие как количество Pod'ов, PersistentVolumeClaim и т.д.

- **`serviceaccount.yaml`**: Конфигурация для создания учетной записи сервиса, обеспечивающей доступ сотрудников к проекту XWiki.
